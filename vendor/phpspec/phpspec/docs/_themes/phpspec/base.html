{%- extends "scrolls/layout.html" %}

{%- block doctype -%}<!DOCTYPE html>{%- endblock -%}

{% set css_files = css_files + ['_static/scrolls.css', '_static/pygments.css', '_static/main.css', 'http://fonts.googleapis.com/css?family=Lobster', '_static/print.css'] %}

{%- block header %}
<header>
    <ul class="main-menu">
        <li{% if pagename == 'index' %} class="active"{% endif %}><a href="/">main</a></li>
        <li{% if pagename != 'index' %} class="active"{% endif %}><a href="{{ pathto('manual/introduction') }}">phpspec manual</a></li>
        <li class="right"><a href="http://github.com/phpspec/prophecy">prophecy repo</a></li>
        <li class="right"><a href="http://github.com/phpspec/phpspec">phpspec repo</a></li>
    </ul>
</header>
{% endblock %}

{% block content %}
<section class="docs" id="manual">
    <nav class="toc">
        <h3>Chapters</h3>
        {% set toctree = toctree(maxdepth=2, collapse=False, includehidden=True) %}
        {% if toctree %}
            {{ toctree }}
        {% else %}
            {{ toc }}
        {% endif %}
    </nav>

    <section class="documentation">
        {% block body %}{% endblock %}
        <footer>
            {% if prev %}
            <dl><dt>Previous</dt> <dd><a class="prev" href="{{ prev.link|e }}">{{ prev.title }}</a></dd></dl>
            {% endif %}

            {% if next %}
            <dl><dt>Next</dt><dd><a class="next" href="{{ next.link|e }}">{{ next.title }}</a></dd></dl>
            {% endif %}
        </footer>
    </section>

</section>
{% endblock %}

{% block footer %}
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34229660-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>
{% endblock %}
